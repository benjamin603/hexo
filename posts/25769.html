

<!DOCTYPE html>
<html lang="zh-CN" data-default-color-scheme=auto>



<head>
  <meta charset="UTF-8">
  <link rel="apple-touch-icon" sizes="76x76" href="/img/favicon.png">
  <link rel="icon" href="/img/favicon.ico">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=5.0, shrink-to-fit=no">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  
    <meta http-equiv="Content-Security-Policy" content="upgrade-insecure-requests">
  
  <meta name="theme-color" content="#2f4154">
  <meta name="author" content="Benjamin">
  <meta name="keywords" content="">
  
    <meta name="description" content="首先感谢杜老师分享的代码： 说说广场代码分享：https:&#x2F;&#x2F;dusays.com&#x2F;578">
<meta property="og:type" content="article">
<meta property="og:title" content="搭建Memos广场页面">
<meta property="og:url" content="http://example.com/posts/25769.html">
<meta property="og:site_name" content="Benjamin">
<meta property="og:description" content="首先感谢杜老师分享的代码： 说说广场代码分享：https:&#x2F;&#x2F;dusays.com&#x2F;578">
<meta property="og:locale" content="zh_CN">
<meta property="article:published_time" content="2023-12-04T00:47:59.000Z">
<meta property="article:modified_time" content="2024-02-01T10:05:07.592Z">
<meta property="article:author" content="Benjamin">
<meta property="article:tag" content="Memos">
<meta name="twitter:card" content="summary_large_image">
  
  
  
  <title>搭建Memos广场页面 - Benjamin</title>

  <link  rel="stylesheet" href="https://lib.baomitu.com/twitter-bootstrap/4.6.1/css/bootstrap.min.css" />



  <link  rel="stylesheet" href="https://lib.baomitu.com/github-markdown-css/4.0.0/github-markdown.min.css" />

  <link  rel="stylesheet" href="https://lib.baomitu.com/hint.css/2.7.0/hint.min.css" />

  <link  rel="stylesheet" href="https://lib.baomitu.com/fancybox/3.5.7/jquery.fancybox.min.css" />



<!-- 主题依赖的图标库，不要自行修改 -->
<!-- Do not modify the link that theme dependent icons -->

<link rel="stylesheet" href="//at.alicdn.com/t/font_1749284_hj8rtnfg7um.css">



<link rel="stylesheet" href="//at.alicdn.com/t/font_1736178_lbnruvf0jn.css">


<link  rel="stylesheet" href="/css/main.css" />


  <link id="highlight-css" rel="stylesheet" href="/css/highlight.css" />
  
    <link id="highlight-css-dark" rel="stylesheet" href="/css/highlight-dark.css" />
  



  
<link rel="stylesheet" href="/css/custom.css">
<link rel="stylesheet" href="/css/iconfont.css">
<link rel="stylesheet" href="https://cdn.staticfile.org/lxgw-wenkai-screen-webfont/1.6.0/lxgwwenkaiscreen.css">



  <script id="fluid-configs">
    var Fluid = window.Fluid || {};
    Fluid.ctx = Object.assign({}, Fluid.ctx)
    var CONFIG = {"hostname":"example.com","root":"/","version":"1.9.7","typing":{"enable":true,"typeSpeed":70,"cursorChar":"_","loop":false,"scope":[]},"anchorjs":{"enable":true,"element":"h1,h2,h3,h4,h5,h6","placement":"left","visible":"hover","icon":""},"progressbar":{"enable":true,"height_px":3,"color":"#29d","options":{"showSpinner":false,"trickleSpeed":100}},"code_language":{"enable":true,"default":"TEXT"},"copy_btn":true,"image_caption":{"enable":true},"image_zoom":{"enable":true,"img_url_replace":["",""]},"toc":{"enable":true,"placement":"right","headingSelector":"h1,h2,h3,h4,h5,h6","collapseDepth":0},"lazyload":{"enable":true,"loading_img":"/img/loading.gif","onlypost":false,"offset_factor":2},"web_analytics":{"enable":false,"follow_dnt":true,"baidu":null,"google":{"measurement_id":null},"tencent":{"sid":null,"cid":null},"woyaola":null,"cnzz":null,"leancloud":{"app_id":null,"app_key":null,"server_url":null,"path":"window.location.pathname","ignore_local":false}},"search_path":"/local-search.xml","include_content_in_search":true};

    if (CONFIG.web_analytics.follow_dnt) {
      var dntVal = navigator.doNotTrack || window.doNotTrack || navigator.msDoNotTrack;
      Fluid.ctx.dnt = dntVal && (dntVal.startsWith('1') || dntVal.startsWith('yes') || dntVal.startsWith('on'));
    }
  </script>
  <script  src="/js/utils.js" ></script>
  <script  src="/js/color-schema.js" ></script>
  


  
<meta name="generator" content="Hexo 7.1.1"></head>


<body>
  

  <header>
    

<div class="header-inner" style="height: 70vh;">
  <nav id="navbar" class="navbar fixed-top  navbar-expand-lg navbar-dark scrolling-navbar">
  <div class="container">
    <a class="navbar-brand" href="/">
      <strong>Benjamin</strong>
    </a>

    <button id="navbar-toggler-btn" class="navbar-toggler" type="button" data-toggle="collapse"
            data-target="#navbarSupportedContent"
            aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
      <div class="animated-icon"><span></span><span></span><span></span></div>
    </button>

    <!-- Collapsible content -->
    <div class="collapse navbar-collapse" id="navbarSupportedContent">
      <ul class="navbar-nav ml-auto text-center">
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/" target="_self">
                <i class="iconfont icon-home-fill"></i>
                <span>首页</span>
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/memos/" target="_self">
                <i class="iconfont icon-comment"></i>
                <span>说说</span>
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item dropdown">
              <a class="nav-link dropdown-toggle" target="_self" href="javascript:;" role="button"
                 data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                <i class="iconfont icon-archive-fill"></i>
                <span>文章</span>
              </a>
              <div class="dropdown-menu" aria-labelledby="navbarDropdown">
                
                  
                  
                  
                  <a class="dropdown-item" href="/archives/" target="_self">
                    
                    <span>归档</span>
                  </a>
                
                  
                  
                  
                  <a class="dropdown-item" href="/categories/" target="_self">
                    
                    <span>分类</span>
                  </a>
                
                  
                  
                  
                  <a class="dropdown-item" href="/tags/" target="_self">
                    
                    <span>标签</span>
                  </a>
                
              </div>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/links/" target="_self">
                <i class="iconfont icon-chaolianjie"></i>
                <span>友链</span>
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/fcircle/" target="_self">
                <i class="iconfont icon-pengyouquan1"></i>
                <span>朋友圈</span>
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/about/" target="_self">
                <i class="iconfont icon-user-fill"></i>
                <span>关于</span>
              </a>
            </li>
          
        
        
          <li class="nav-item" id="search-btn">
            <a class="nav-link" target="_self" href="javascript:;" data-toggle="modal" data-target="#modalSearch" aria-label="Search">
              <i class="iconfont icon-search"></i>
            </a>
          </li>
          
        
        
          <li class="nav-item" id="color-toggle-btn">
            <a class="nav-link" target="_self" href="javascript:;" aria-label="Color Toggle">
              <i class="iconfont icon-dark" id="color-toggle-icon"></i>
            </a>
          </li>
        
      </ul>
    </div>
  </div>
</nav>

  

<div id="banner" class="banner" parallax=true
     style="background: url('/img/default.png') no-repeat center center; background-size: cover;">
  <div class="full-bg-img">
    <div class="mask flex-center" style="background-color: rgba(0, 0, 0, 0.3)">
      <div class="banner-text text-center fade-in-up">
        <div class="h2">
          
            <span id="subtitle" data-typed-text="搭建Memos广场页面"></span>
          
        </div>

        
          
  <div class="mt-3">
    
    
      <span class="post-meta">
        <i class="iconfont icon-date-fill" aria-hidden="true"></i>
        <time datetime="2023-12-04 08:47" pubdate>
          2023年12月4日 早上
        </time>
      </span>
    
  </div>

  <div class="mt-1">
    

    

    
    
  </div>


        
      </div>

      
    </div>
  </div>
</div>

</div>

  </header>

  <main>
    
      

<div class="container-fluid nopadding-x">
  <div class="row nomargin-x">
    <div class="side-col d-none d-lg-block col-lg-2">
      

    </div>

    <div class="col-lg-8 nopadding-x-md">
      <div class="container nopadding-x-md" id="board-ctn">
        <div id="board">
          <article class="post-content mx-auto">
            <h1 id="seo-header">搭建Memos广场页面</h1>
            
            
              <div class="markdown-body">
                
                <p>首先感谢<a target="_blank" rel="noopener" href="https://dusays.com/">杜老师</a>分享的代码：</p>
<p>说说广场代码分享：<a target="_blank" rel="noopener" href="https://dusays.com/578">https://dusays.com/578</a></p>
 <span id="more"></span>

<ol>
<li><p>新建页面，并关闭<code>lazyload</code>，开启的话会造成图片无法显示；</p>
</li>
<li><p>丢入一下代码到新页面：</p>

    <div class="fold">
      <div class="fold-title fold-info collapsed" data-toggle="collapse" href="#collapse-8f7bdefe" role="button" aria-expanded="false" aria-controls="collapse-8f7bdefe">
        <div class="fold-arrow">▶</div>HTML
      </div>
      <div class="fold-collapse collapse" id="collapse-8f7bdefe">
        <div class="fold-content">
          <figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br><span class="line">253</span><br><span class="line">254</span><br><span class="line">255</span><br><span class="line">256</span><br><span class="line">257</span><br><span class="line">258</span><br><span class="line">259</span><br><span class="line">260</span><br><span class="line">261</span><br><span class="line">262</span><br><span class="line">263</span><br><span class="line">264</span><br><span class="line">265</span><br><span class="line">266</span><br><span class="line">267</span><br><span class="line">268</span><br><span class="line">269</span><br><span class="line">270</span><br><span class="line">271</span><br><span class="line">272</span><br><span class="line">273</span><br><span class="line">274</span><br><span class="line">275</span><br><span class="line">276</span><br><span class="line">277</span><br><span class="line">278</span><br><span class="line">279</span><br><span class="line">280</span><br><span class="line">281</span><br><span class="line">282</span><br><span class="line">283</span><br><span class="line">284</span><br><span class="line">285</span><br><span class="line">286</span><br><span class="line">287</span><br><span class="line">288</span><br><span class="line">289</span><br><span class="line">290</span><br><span class="line">291</span><br><span class="line">292</span><br><span class="line">293</span><br><span class="line">294</span><br><span class="line">295</span><br><span class="line">296</span><br><span class="line">297</span><br><span class="line">298</span><br><span class="line">299</span><br><span class="line">300</span><br><span class="line">301</span><br><span class="line">302</span><br><span class="line">303</span><br><span class="line">304</span><br><span class="line">305</span><br><span class="line">306</span><br><span class="line">307</span><br><span class="line">308</span><br><span class="line">309</span><br><span class="line">310</span><br><span class="line">311</span><br><span class="line">312</span><br><span class="line">313</span><br><span class="line">314</span><br><span class="line">315</span><br><span class="line">316</span><br><span class="line">317</span><br><span class="line">318</span><br><span class="line">319</span><br><span class="line">320</span><br><span class="line">321</span><br><span class="line">322</span><br><span class="line">323</span><br><span class="line">324</span><br><span class="line">325</span><br><span class="line">326</span><br><span class="line">327</span><br><span class="line">328</span><br><span class="line">329</span><br><span class="line">330</span><br><span class="line">331</span><br><span class="line">332</span><br><span class="line">333</span><br><span class="line">334</span><br><span class="line">335</span><br><span class="line">336</span><br><span class="line">337</span><br><span class="line">338</span><br><span class="line">339</span><br><span class="line">340</span><br><span class="line">341</span><br><span class="line">342</span><br><span class="line">343</span><br><span class="line">344</span><br><span class="line">345</span><br><span class="line">346</span><br><span class="line">347</span><br><span class="line">348</span><br><span class="line">349</span><br><span class="line">350</span><br><span class="line">351</span><br><span class="line">352</span><br><span class="line">353</span><br><span class="line">354</span><br><span class="line">355</span><br></pre></td><td class="code"><pre><code class="hljs markdown"><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;bbs&quot;</span>&gt;</span></span><span class="language-xml"><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span><br><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;text/javascript&quot;</span> <span class="hljs-attr">src</span>=<span class="hljs-string">&quot;https://jsd.onmicrosoft.cn/npm/marked@4.3.0/marked.min.js&quot;</span>&gt;</span></span><span class="language-xml"><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span></span><br><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;text/javascript&quot;</span> <span class="hljs-attr">src</span>=<span class="hljs-string">&quot;https://jsd.onmicrosoft.cn/gh/Tokinx/ViewImage/view-image.min.js&quot;</span>&gt;</span></span><span class="language-xml"><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span></span><br><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;text/javascript&quot;</span> <span class="hljs-attr">src</span>=<span class="hljs-string">&quot;https://jsd.onmicrosoft.cn/gh/Tokinx/Lately/lately.min.js&quot;</span>&gt;</span></span><span class="language-xml"><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span></span><br><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span></span><br>if (typeof Lately === &#x27;undefined&#x27;) &#123;<br>  const script = document.createElement(&#x27;script&#x27;);<br>  script.src = &#x27;https://jsd.onmicrosoft.cn/gh/Tokinx/Lately/lately.min.js&#x27;;<br>  script.onload = () =&gt; &#123;<br><span class="hljs-code">    Lately.init(&#123; target: &#x27;.bbs-date&#x27; &#125;);</span><br><span class="hljs-code">  &#125;;</span><br><span class="hljs-code">  document.head.appendChild(script);</span><br><span class="hljs-code">&#125; else &#123;</span><br><span class="hljs-code">  Lately.init(&#123; target: &#x27;.bbs-date&#x27; &#125;);</span><br><span class="hljs-code">&#125;</span><br><span class="hljs-code">const urls = [</span><br><span class="hljs-code">  &#123;home:&quot;https://bing.sn.cn/&quot;,host:&quot;https://m.bing.sn.cn/&quot;,apiV1:&#x27;v1/&#x27;,creatorId:&quot;1&quot;,comment:&#x27;&#x27;,imgsrc:&quot;https://pic.yunshusong.cn/upic/20230204122856.jpg&quot;&#125;,</span><br><span class="hljs-code">  &#123;home:&quot;https://koobai.com/&quot;,host:&quot;https://memos.koobai.com/&quot;,apiV1:&#x27;v1/&#x27;,creatorId:&quot;1&quot;,comment:&#x27;&#x27;,imgsrc:&quot;https://cravatar.cn/avatar/3b3d336a7d389b7ae8531cbe177ae9b7&quot;&#125;,</span><br><span class="hljs-code">  &#123;home:&quot;https://immmmm.com/&quot;,host:&quot;https://me.edui.fun/&quot;,apiV1:&#x27;v1/&#x27;,creatorId:&quot;101&quot;,comment:&#x27;&#x27;,imgsrc:&quot;https://cravatar.cn/avatar/ba83fa02fc4b2ba621514941307e21be&quot;&#125;,</span><br><span class="hljs-code">  &#123;home:&quot;https://nuoea.com/&quot;,host:&quot;https://memos.nuoea.com/&quot;,apiV1:&#x27;v1/&#x27;,creatorId:&quot;101&quot;,comment:&#x27;&#x27;,imgsrc:&quot;https://cravatar.cn/avatar/020d365ea2596ef6d516143bb0552704&quot;&#125;,</span><br><span class="hljs-code">  &#123;home:&quot;https://eallion.com/&quot;,host:&quot;https://api.eallion.com/memos/&quot;,apiV1:&#x27;v1/&#x27;,creatorId:&quot;101&quot;,comment:&#x27;&#x27;,imgsrc:&quot;https://cravatar.cn/avatar/171e4c30959e8c077a6c58b958624b31&quot;&#125;,</span><br><span class="hljs-code">  &#123;home:&quot;https://www.skyue.com/&quot;,host:&quot;https://memos.skyue.com/&quot;,apiV1:&#x27;v1/&#x27;,creatorId:&quot;1&quot;,comment:&#x27;&#x27;,imgsrc:&quot;https://cravatar.cn/avatar/c3fb4bb4d5101284ddd672fb722cdd7d&quot;&#125;,</span><br><span class="hljs-code">  &#123;home:&quot;https://lms.im/&quot;,host:&quot;https://b.lms.im/&quot;,apiV1:&#x27;v1/&#x27;,creatorId:&quot;1&quot;,comment:&#x27;&#x27;,imgsrc:&quot;https://cravatar.cn/avatar/d9cc49ea0301640d7a19b6a1e77012dd&quot;&#125;,</span><br><span class="hljs-code">  &#123;home:&quot;https://dusays.com/&quot;,host:&quot;https://s.dusays.com/&quot;,apiV1:&#x27;v1/&#x27;,creatorId:&quot;1&quot;,comment:&#x27;&#x27;,imgsrc:&quot;https://cravatar.cn/avatar/28b57baa4e8f13fe4292ccb2de267e30&quot;&#125;,</span><br><span class="hljs-code">]</span><br><span class="hljs-code">var bbDom = document.querySelector(&#x27;#bbs&#x27;);</span><br><span class="hljs-code">var load = &#x27;&lt;div id=&quot;load&quot; onclick=&quot;nextFetch()&quot; &gt;&lt;button class=&quot;load-btn button-load&quot;&gt;加载更多&lt;/button&gt;&lt;/div&gt;&#x27;</span><br><span class="hljs-code">var loading = &#x27;&lt;div class=&quot;loader&quot;&gt;&lt;svg class=&quot;circular&quot; viewBox=&quot;25 25 50 50&quot;&gt;&lt;circle class=&quot;path&quot; cx=&quot;50&quot; cy=&quot;50&quot; r=&quot;20&quot; fill=&quot;none&quot; stroke-width=&quot;2&quot; stroke-miterlimit=&quot;10&quot;/&gt;&lt;/svg&gt;&lt;/div&gt;&#x27;</span><br><span class="hljs-code">var bbsDatas = [],bbsData = &#123;&#125;,nextDatas = [],nextData = &#123;&#125;,limit = 10</span><br><span class="hljs-code">var page = 1,offset = 0,nextLength = 0,nextDom=&#x27;&#x27;,bbUrlNow = &#x27;&#x27;,imgsrcNow = &#x27;&#x27;,hostNow = &#x27;&#x27;,creIdNow = &#x27;&#x27;,commentNow = &#x27;&#x27;,twiEnvNow=&#x27;&#x27;,artEnvNow=&#x27;&#x27;,artSiteNow=&#x27;&#x27;</span><br><span class="hljs-code">bbDom.innerHTML = loading</span><br><span class="hljs-code">allUrls()</span><br><span class="hljs-code">function allUrls()&#123;</span><br><span class="hljs-code">  var myHtml = &#x27;&#x27;</span><br><span class="hljs-code">  for(var i=0;i &lt; urls.length;i++)&#123;</span><br><span class="hljs-code">    myHtml += &#x27;&lt;div class=&quot;bbs-urls bbs-url&quot; onclick=&quot;urlsNow(this)&quot; data-hostid=&quot;&#x27;+urls[i].host+&quot;u/&quot;+urls[i].creatorId+&#x27;&quot; data-host=&quot;&#x27;+urls[i].host+&#x27;&quot; data-apiV1=&quot;&#x27;+urls[i].apiV1+&#x27;&quot; data-creatorId=&quot;&#x27;+urls[i].creatorId+&#x27;&quot; data-imgsrc=&quot;&#x27;+urls[i].imgsrc+&#x27;&quot; data-comment=&quot;&#x27;+urls[i].comment+&#x27;&quot; data-home=&quot;&#x27;+urls[i].home+&#x27;&quot; data-twienv=&quot;&#x27;+urls[i].twiEnv+&#x27;&quot; data-artenv=&quot;&#x27;+urls[i].artEnv+&#x27;&quot; data-artsite=&quot;&#x27;+urls[i].artSite+&#x27;&quot; data-index=&quot;&#x27;+i+&#x27;&quot;&gt;&lt;img src=&quot;&#x27;+urls[i].imgsrc+&#x27;&quot; alt=&quot;&quot;&gt;&lt;/div&gt;&#x27;</span><br><span class="hljs-code">  &#125;</span><br><span class="hljs-code">  myHtml += &#x27;&lt;div class=&quot;bbs-urls urls-button&quot; onclick=&quot;urlsNow(this)&quot; data-type=&quot;random&quot;&gt;&lt;svg t=&quot;1665928089691&quot; class=&quot;icon&quot; viewBox=&quot;0 0 1024 1024&quot; version=&quot;1.1&quot; xmlns=&quot;http://www.w3.org/2000/svg&quot; p-id=&quot;2562&quot; width=&quot;32&quot; height=&quot;32&quot;&gt;&lt;path d=&quot;M913.2 672l98.8 57.1c5.3 3.1 5.3 10.8 0 13.9l-43.4 25L710.4 924c-2.7 1.5-6-0.4-6-3.5V772c0-2.2-1.8-4-4-4H544c-70.4 0-134.4-28.8-180.8-75.2-11.1-11.1-21.2-23.2-30.1-36.1-6.4-9.2-20-9.1-26.4 0.1C260.5 723.9 183.1 768 96 768h-48c-26.5 0-48-21.5-48-48s21.5-48 48-48h48c42.5 0 82.6-16.7 112.9-47.1 30.4-30.4 47.1-70.5 47.1-112.9s-16.7-82.6-47.1-112.9C178.6 368.7 138.4 352 96 352h-48c-26.5 0-48-21.5-48-48s21.5-48 48-48h48c70.4 0 134.4 28.8 180.8 75.2 11.1 11.1 21.2 23.2 30.1 36.1 6.4 9.2 20 9.1 26.4-0.1 46.3-67 123.6-111.1 210.8-111.1H700.4c2.2 0 4-1.8 4-4V103.4c0-3.1 3.3-5 6-3.5l258.2 156 43.4 25.1c5.3 3.1 5.3 10.8 0 13.9L913.2 352 710.4 476c-2.7 1.5-6-0.4-6-3.5V356c0-2.2-1.8-4-4-4H544c-42.5 0-82.6 16.7-112.9 47.1-30.4 30.4-47.1 70.5-47.1 112.9 0 42.5 16.7 82.6 47.1 112.9C461.4 655.3 501.5 672 544 672H700.4c2.2 0 4-1.8 4-4V551.4c0-3.1 3.3-5 6-3.5L913.2 672z&quot; p-id=&quot;2563&quot; fill=&quot;#f5f5f5&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/div&gt;&#x27;</span><br><span class="hljs-code">  myHtml += &#x27;&lt;div class=&quot;bbs-urls urls-button&quot;&gt;&lt;a target=&quot;_blank&quot; rel=&quot;noopener&quot; href=&quot;https://memos.dongjunke.cn/&quot;&gt;&lt;svg t=&quot;1665929410343&quot; class=&quot;icon&quot; viewBox=&quot;0 0 1024 1024&quot; version=&quot;1.1&quot; xmlns=&quot;http://www.w3.org/2000/svg&quot; p-id=&quot;6308&quot; width=&quot;32&quot; height=&quot;32&quot;&gt;&lt;path d=&quot;M906.212134 565.732986 565.732986 565.732986 565.732986 906.212134C565.732986 926.013685 541.666486 959.972 511.97312 959.972 482.297674 959.972 458.213254 926.013685 458.213254 906.212134L458.213254 565.732986 117.734106 565.732986C97.950475 565.732986 63.97424 541.666486 63.97424 511.97312 63.97424 482.279754 97.950475 458.213254 117.734106 458.213254L458.213254 458.213254 458.213254 117.734106C458.213254 97.950475 482.297674 63.97424 511.97312 63.97424 541.666486 63.97424 565.732986 97.950475 565.732986 117.734106L565.732986 458.213254 906.212134 458.213254C925.995765 458.213254 959.972 482.279754 959.972 511.97312 959.972 541.666486 925.995765 565.732986 906.212134 565.732986Z&quot; p-id=&quot;6309&quot; fill=&quot;#f5f5f5&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;&lt;/div&gt;&#x27;</span><br><span class="hljs-code">  myHtml = &#x27;&lt;div id=&quot;bbs-urls&quot;&gt;&#x27;+myHtml+&#x27;&lt;/div&gt;&#x27;</span><br><span class="hljs-code">  bbDom.insertAdjacentHTML(&#x27;beforebegin&#x27;, myHtml);</span><br><span class="hljs-code">&#125;</span><br><span class="hljs-code">function nextFetch()&#123;</span><br><span class="hljs-code">  document.querySelector(&quot;button.button-load&quot;).textContent= &#x27;加载中……&#x27;;</span><br><span class="hljs-code">  updateHTMl(nextDatas)</span><br><span class="hljs-code">  if(nextLength &lt; 10)&#123;</span><br><span class="hljs-code">    document.querySelector(&quot;button.button-load&quot;).remove()</span><br><span class="hljs-code">    return</span><br><span class="hljs-code">  &#125;</span><br><span class="hljs-code">  getNextList()</span><br><span class="hljs-code">&#125;;</span><br><span class="hljs-code">function urlsNow(e)&#123;</span><br><span class="hljs-code">  var domUrls = document.querySelectorAll(&#x27;#bbs-urls .bbs-urls&#x27;)</span><br><span class="hljs-code">  if(e.classList.contains(&#x27;url-now&#x27;))&#123;</span><br><span class="hljs-code">    domUrls[e.getAttribute(&quot;data-index&quot;)].classList.remove(&quot;url-now&quot;)</span><br><span class="hljs-code">    fetchBBser()</span><br><span class="hljs-code">  &#125;else&#123;</span><br><span class="hljs-code">    domUrls.forEach(function(value,index)&#123; domUrls[index].classList.remove(&quot;url-now&quot;)&#125;)</span><br><span class="hljs-code">    var btn = document.querySelector(&#x27;button.button-load&#x27;)</span><br><span class="hljs-code">    if(btn)&#123;btn.remove()&#125;</span><br><span class="hljs-code">    page = 1,offset = 0</span><br><span class="hljs-code">    bbDom.innerHTML = loading</span><br><span class="hljs-code">    var type = e.getAttribute(&quot;data-type&quot;)</span><br><span class="hljs-code">    if(type == &#x27;random&#x27;)&#123;</span><br><span class="hljs-code">      var num = Math.round(Math.random() * (urls.length-1))</span><br><span class="hljs-code">      hostNow = urls[num].host</span><br><span class="hljs-code">      creIdNow = urls[num].creatorId</span><br><span class="hljs-code">      imgsrcNow = urls[num].imgsrc</span><br><span class="hljs-code">      commentNow = urls[num].comment</span><br><span class="hljs-code">      twiEnvNow = urls[num].twiEnv</span><br><span class="hljs-code">      artEnvNow = urls[num].artEnv</span><br><span class="hljs-code">      artSiteNow = urls[num].artSite</span><br><span class="hljs-code">      homeNow = urls[num].home</span><br><span class="hljs-code">      apiV1Now = urls[num].apiV1</span><br><span class="hljs-code">      domUrls[num].classList.add(&quot;url-now&quot;)</span><br><span class="hljs-code">    &#125;else&#123;</span><br><span class="hljs-code">      domUrls[e.getAttribute(&quot;data-index&quot;)].classList.add(&quot;url-now&quot;)</span><br><span class="hljs-code">      hostNow = e.getAttribute(&quot;data-host&quot;)</span><br><span class="hljs-code">      creIdNow = e.getAttribute(&quot;data-creatorId&quot;)</span><br><span class="hljs-code">      imgsrcNow = e.getAttribute(&quot;data-imgsrc&quot;)</span><br><span class="hljs-code">      commentNow = e.getAttribute(&quot;data-comment&quot;)</span><br><span class="hljs-code">      twiEnvNow = e.getAttribute(&quot;data-twienv&quot;)</span><br><span class="hljs-code">      artEnvNow = e.getAttribute(&quot;data-artenv&quot;)</span><br><span class="hljs-code">      artSiteNow = e.getAttribute(&quot;data-artsite&quot;)</span><br><span class="hljs-code">      homeNow = e.getAttribute(&quot;data-home&quot;)</span><br><span class="hljs-code">      apiV1Now = e.getAttribute(&quot;data-apiV1&quot;)</span><br><span class="hljs-code">    &#125;</span><br><span class="hljs-code">    bbUrlNow = hostNow+&quot;api/&quot;+apiV1Now+&quot;memo?creatorId=&quot;+creIdNow+&quot;&amp;rowStatus=NORMAL&amp;limit=10&quot;</span><br><span class="hljs-code">    fetch(bbUrlNow).then(res =&gt; res.json()).then( resdata =&gt;&#123;</span><br><span class="hljs-code">      var arrData = resdata || &#x27;&#x27;</span><br><span class="hljs-code">      if(resdata.data)&#123;</span><br><span class="hljs-code">        arrData = resdata.data</span><br><span class="hljs-code">      &#125;</span><br><span class="hljs-code">      bbDom.innerHTML = &#x27;&#x27;</span><br><span class="hljs-code">      bbsDatas.length = 0</span><br><span class="hljs-code">      for(var j=0;j &lt; arrData.length;j++)&#123;</span><br><span class="hljs-code">            var resValue = arrData[j]</span><br><span class="hljs-code">            bbsData = &#123;</span><br><span class="hljs-code">              memoId: resValue.id,</span><br><span class="hljs-code">              updatedTs: resValue.updatedTs,</span><br><span class="hljs-code">              creatorId:resValue.creatorId,</span><br><span class="hljs-code">              creator: resValue.creatorName || resValue.creator.nickname || resValue.creator.name,</span><br><span class="hljs-code">              imgsrc: imgsrcNow,</span><br><span class="hljs-code">              content: resValue.content,</span><br><span class="hljs-code">              resourceList: resValue.resourceList,</span><br><span class="hljs-code">              url:hostNow,</span><br><span class="hljs-code">              twiEnv:twiEnvNow,</span><br><span class="hljs-code">              artEnv:artEnvNow,</span><br><span class="hljs-code">              artSite:artSiteNow,</span><br><span class="hljs-code">              home:homeNow,</span><br><span class="hljs-code">              comment: commentNow</span><br><span class="hljs-code">            &#125;</span><br><span class="hljs-code">            bbsDatas.push(bbsData)</span><br><span class="hljs-code">      &#125;</span><br><span class="hljs-code">      updateHTMl(bbsDatas)</span><br><span class="hljs-code">      bbDom.insertAdjacentHTML(&#x27;afterend&#x27;, load);</span><br><span class="hljs-code">      var nowLength = bbsData.length</span><br><span class="hljs-code">      if(nowLength &lt; 10)&#123;</span><br><span class="hljs-code">        document.querySelector(&quot;button.button-load&quot;).remove()</span><br><span class="hljs-code">        return</span><br><span class="hljs-code">      &#125;</span><br><span class="hljs-code">      page++</span><br><span class="hljs-code">      offset = 10*(page-1)</span><br><span class="hljs-code">      getNextList()</span><br><span class="hljs-code">    &#125;);</span><br><span class="hljs-code">  &#125;</span><br><span class="hljs-code">&#125;</span><br><span class="hljs-code">function getNextList()&#123;</span><br><span class="hljs-code">  var bbUrl = bbUrlNow+&quot;&amp;offset=&quot;+offset;</span><br><span class="hljs-code">  fetch(bbUrl).then(res =&gt; res.json()).then( resdata =&gt;&#123;</span><br><span class="hljs-code">    var arrData = resdata || &#x27;&#x27;</span><br><span class="hljs-code">    if(resdata.data)&#123;</span><br><span class="hljs-code">      arrData = resdata.data</span><br><span class="hljs-code">    &#125;</span><br><span class="hljs-code">    nextDom = arrData</span><br><span class="hljs-code">    nextLength = nextDom.length</span><br><span class="hljs-code">    page++</span><br><span class="hljs-code">    offset = 10*(page-1)</span><br><span class="hljs-code">    if(nextLength &lt; 1)&#123;</span><br><span class="hljs-code">      document.querySelector(&quot;button.button-load&quot;).remove()</span><br><span class="hljs-code">      return</span><br><span class="hljs-code">    &#125;</span><br><span class="hljs-code">    nextDatas.length = 0</span><br><span class="hljs-code">    for(var j=0;j &lt; nextDom.length;j++)&#123;</span><br><span class="hljs-code">      var resValue = nextDom[j]</span><br><span class="hljs-code">      nextData = &#123;</span><br><span class="hljs-code">        updatedTs: resValue.updatedTs,</span><br><span class="hljs-code">        creatorId:resValue.creatorId,</span><br><span class="hljs-code">        creator: resValue.creatorName || resValue.creator.nickname || resValue.creator.name,</span><br><span class="hljs-code">        imgsrc: imgsrcNow,</span><br><span class="hljs-code">        content: resValue.content,</span><br><span class="hljs-code">        resourceList: resValue.resourceList,</span><br><span class="hljs-code">        url:hostNow,</span><br><span class="hljs-code">        twiEnv:twiEnvNow,</span><br><span class="hljs-code">        artEnv:artEnvNow,</span><br><span class="hljs-code">        artSite:artSiteNow,</span><br><span class="hljs-code">        comment:commentNow,</span><br><span class="hljs-code">        memoId: resValue.id,</span><br><span class="hljs-code">        home:homeNow,</span><br><span class="hljs-code">      &#125;</span><br><span class="hljs-code">      nextDatas.push(nextData)</span><br><span class="hljs-code">    &#125;</span><br><span class="hljs-code">  &#125;)</span><br><span class="hljs-code">&#125;</span><br><span class="hljs-code">const withTimeout = (millis, promise) =&gt; &#123;</span><br><span class="hljs-code">  const timeout = new Promise((resolve, reject) =&gt;</span><br><span class="hljs-code">      setTimeout( () =&gt; reject(`Timed out after ms.`),millis));</span><br><span class="hljs-code">  return Promise.race([</span><br><span class="hljs-code">      promise,</span><br><span class="hljs-code">      timeout</span><br><span class="hljs-code">  ]);</span><br><span class="hljs-code">&#125;;</span><br><span class="hljs-code">const fetchBBser = async () =&gt; &#123;</span><br><span class="hljs-code">  const results = await Promise.allSettled(urls.map(</span><br><span class="hljs-code">    url =&gt; withTimeout(2000,</span><br><span class="hljs-code">      fetch(url.host+&quot;api/&quot;+url.apiV1+&quot;memo?creatorId=&quot;+url.creatorId+&quot;&amp;rowStatus=NORMAL&amp;limit=&quot;+limit).then(response =&gt; response.json()).then(resdata =&gt; &#123;</span><br><span class="hljs-code">        var qsLive = &quot;.bbs-urls.bbs-url[data-hostid=&#x27;&quot;+url.host+&quot;u/&quot;+url.creatorId+&quot;&#x27;]&quot;</span><br><span class="hljs-code">        document.querySelector(qsLive).classList.add(&quot;liveon&quot;);</span><br><span class="hljs-code">        var arrData = resdata || &#x27;&#x27;</span><br><span class="hljs-code">        if(resdata.data)&#123;</span><br><span class="hljs-code">          arrData = resdata.data</span><br><span class="hljs-code">        &#125;</span><br><span class="hljs-code">        return arrData</span><br><span class="hljs-code">      &#125;)</span><br><span class="hljs-code">    )</span><br><span class="hljs-code">  )).then(results=&gt; &#123;</span><br><span class="hljs-code">    bbDom.innerHTML = &#x27;&#x27;</span><br><span class="hljs-code">    for(var i=0;i &lt; results.length;i++)&#123;</span><br><span class="hljs-code">      var status = results[i].status</span><br><span class="hljs-code">      if(status == &quot;fulfilled&quot;)&#123;</span><br><span class="hljs-code">        var resultsRes = results[i].value</span><br><span class="hljs-code">        for(var j=0;j &lt; resultsRes.length;j++)&#123;</span><br><span class="hljs-code">          var resValue = resultsRes[j]</span><br><span class="hljs-code">          var dateNow = new Date()</span><br><span class="hljs-code">          var dateDiff = dateNow.getTime() - (resValue.updatedTs * 1000);</span><br><span class="hljs-code">          var dayDiff = Math.floor(dateDiff / (24 * 3600 * 1000));</span><br><span class="hljs-code">          if(dayDiff &lt; 10 )&#123;</span><br><span class="hljs-code">            bbsData = &#123;</span><br><span class="hljs-code">              memoId: resValue.id,</span><br><span class="hljs-code">              updatedTs: resValue.updatedTs,</span><br><span class="hljs-code">              creatorId:resValue.creatorId,</span><br><span class="hljs-code">              creator: resValue.creatorName || resValue.creator.nickname || resValue.creator.name,</span><br><span class="hljs-code">              imgsrc: urls[i].imgsrc,</span><br><span class="hljs-code">              content: resValue.content,</span><br><span class="hljs-code">              resourceList: resValue.resourceList,</span><br><span class="hljs-code">              home:urls[i].home,</span><br><span class="hljs-code">              url:urls[i].host,</span><br><span class="hljs-code">              comment:urls[i].comment,</span><br><span class="hljs-code">              twiEnv:urls[i].twiEnv || &#x27;&#x27;,</span><br><span class="hljs-code">              artEnv:urls[i].artEnv || &#x27;&#x27;,</span><br><span class="hljs-code">              artSite:urls[i].artSite || &#x27;&#x27;</span><br><span class="hljs-code">            &#125;</span><br><span class="hljs-code">            bbsDatas.push(bbsData)</span><br><span class="hljs-code">          &#125;</span><br><span class="hljs-code">        &#125;</span><br><span class="hljs-code">      &#125;</span><br><span class="hljs-code">    &#125;</span><br><span class="hljs-code">    bbsDatas.sort(compare(&quot;updatedTs&quot;));</span><br><span class="hljs-code">    updateHTMl(bbsDatas)</span><br><span class="hljs-code">  &#125;)</span><br><span class="hljs-code">&#125;</span><br><span class="hljs-code">fetchBBser()</span><br><span class="hljs-code">function compare(p)&#123;</span><br><span class="hljs-code">  return function(m,n)&#123;</span><br><span class="hljs-code">      var a = m[p];</span><br><span class="hljs-code">      var b = n[p];</span><br><span class="hljs-code">      return b - a;</span><br><span class="hljs-code">  &#125;</span><br><span class="hljs-code">&#125;</span><br><span class="hljs-code">function uniqueFunc(arr)&#123;</span><br><span class="hljs-code">  const res = new Map();</span><br><span class="hljs-code">  return arr.filter((item) =&gt; !res.has(item.creator) &amp;&amp; res.set(item.creator, 1));</span><br><span class="hljs-code">&#125;</span><br><span class="hljs-code">function updateHTMl(data)&#123;</span><br><span class="hljs-code">  var result=&quot;&quot;,resultAll=&quot;&quot;;</span><br><span class="hljs-code">  const TAG_REG = /#([^\s#]+)/;</span><br><span class="hljs-code">  const IMG_REG = /\!\[(.*?)\]\((.*?)\)/g;</span><br><span class="hljs-code">  BILIBILI_REG = /&lt;a.*?href=&quot;https:\/\/www\.bilibili\.com\/video\/((av[\d]&#123;1,10&#125;)|(BV([\w]&#123;10&#125;)))\/?&quot;.*?&gt;.*&lt;\/a&gt;/g;</span><br><span class="hljs-code">  NETEASE_MUSIC_REG = /&lt;a.*?href=&quot;https:\/\/music\.163\.com\/.*id=([0-9]+)&quot;.*?&gt;.*&lt;\/a&gt;/g;</span><br><span class="hljs-code">  QQMUSIC_REG = /&lt;a.*?href=&quot;https\:\/\/y\.qq\.com\/.*(\/[0-9a-zA-Z]+)(\.html)?&quot;.*?&gt;.*?&lt;\/a&gt;/g;</span><br><span class="hljs-code">  QQVIDEO_REG = /&lt;a.*?href=&quot;https:\/\/v\.qq\.com\/.*\/([a-z|A-Z|0-9]+)\.html&quot;.*?&gt;.*&lt;\/a&gt;/g;</span><br><span class="hljs-code">  YOUKU_REG = /&lt;a.*?href=&quot;https:\/\/v\.youku\.com\/.*\/id_([a-z|A-Z|0-9|==]+)\.html&quot;.*?&gt;.*&lt;\/a&gt;/g;</span><br><span class="hljs-code">  YOUTUBE_REG = /&lt;a.*?href=&quot;https:\/\/www\.youtube\.com\/watch\?v\=([a-z|A-Z|0-9]&#123;11&#125;)\&quot;.*?&gt;.*&lt;\/a&gt;/g;</span><br><span class="hljs-code">  marked.setOptions(&#123;</span><br><span class="hljs-code">    breaks: true,</span><br><span class="hljs-code">    smartypants: false,</span><br><span class="hljs-code">    langPrefix: &#x27;language-&#x27;</span><br><span class="hljs-code">  &#125;);</span><br><span class="hljs-code">  const renderer = new marked.Renderer();</span><br><span class="hljs-code">  const linkRenderer = renderer.link;</span><br><span class="hljs-code">  renderer.link = (href, title, text) =&gt; &#123;</span><br><span class="hljs-code">      const localLink = href.startsWith(`$&#123;location.protocol&#125;//$&#123;location.hostname&#125;`);</span><br><span class="hljs-code">      const html = linkRenderer.call(renderer, href, title, text);</span><br><span class="hljs-code">      return localLink ? html : html.replace(/^&lt;a /, `&lt;a target=&quot;_blank&quot; rel=&quot;noreferrer noopener nofollow&quot; `);</span><br><span class="hljs-code">  &#125;;</span><br><span class="hljs-code">  marked.use(&#123; renderer &#125;);</span><br><span class="hljs-code">  for(var i=0;i &lt; data.length;i++)&#123;</span><br><span class="hljs-code">      var memos = data[i].url</span><br><span class="hljs-code">      var memoId = data[i].memoId</span><br><span class="hljs-code">      var memoUrl = memos + &quot;m/&quot; + memoId</span><br><span class="hljs-code">      var comment = data[i].comment</span><br><span class="hljs-code">      var twiEnv = data[i].twiEnv</span><br><span class="hljs-code">      var artEnv = data[i].artEnv</span><br><span class="hljs-code">      var artSite = data[i].artSite</span><br><span class="hljs-code">      var bbContREG = data[i].content</span><br><span class="hljs-code">        .replace(TAG_REG, &quot;&lt;span class=&#x27;tag-span&#x27;&gt;#$1&lt;/span&gt; &quot;)</span><br><span class="hljs-code">        .replace(IMG_REG, &#x27;&#x27;)</span><br><span class="hljs-code">      bbContREG = marked.parse(bbContREG)</span><br><span class="hljs-code">        .replace(BILIBILI_REG, &quot;&lt;div class=&#x27;video-wrapper&#x27;&gt;&lt;iframe src=&#x27;//www.bilibili.com/blackboard/html5mobileplayer.html?bvid=$1&amp;as_wide=1&amp;high_quality=1&amp;danmaku=0&#x27; scrolling=&#x27;no&#x27; border=&#x27;0&#x27; frameborder=&#x27;no&#x27; framespacing=&#x27;0&#x27; allowfullscreen=&#x27;true&#x27;&gt;&lt;/iframe&gt;&lt;/div&gt;&quot;)</span><br><span class="hljs-code">        .replace(NETEASE_MUSIC_REG, &quot;&lt;meting-js auto=&#x27;https://music.163.com/#/song?id=$1&#x27;&gt;&lt;/meting-js&gt;&quot;)</span><br><span class="hljs-code">        .replace(QQMUSIC_REG, &quot;&lt;meting-js auto=&#x27;https://y.qq.com/n/yqq/song$1.html&#x27;&gt;&lt;/meting-js&gt;&quot;)</span><br><span class="hljs-code">        .replace(QQVIDEO_REG, &quot;&lt;div class=&#x27;video-wrapper&#x27;&gt;&lt;iframe src=&#x27;//v.qq.com/iframe/player.html?vid=$1&#x27; allowFullScreen=&#x27;true&#x27; frameborder=&#x27;no&#x27;&gt;&lt;/iframe&gt;&lt;/div&gt;&quot;)</span><br><span class="hljs-code">        .replace(YOUKU_REG, &quot;&lt;div class=&#x27;video-wrapper&#x27;&gt;&lt;iframe src=&#x27;https://player.youku.com/embed/$1&#x27; frameborder=0 &#x27;allowfullscreen&#x27;&gt;&lt;/iframe&gt;&lt;/div&gt;&quot;)</span><br><span class="hljs-code">        .replace(YOUTUBE_REG, &quot;&lt;div class=&#x27;video-wrapper&#x27;&gt;&lt;iframe src=&#x27;https://www.youtube.com/embed/$1&#x27; title=&#x27;YouTube video player&#x27; frameborder=&#x27;0&#x27; allow=&#x27;accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture&#x27; allowfullscreen title=&#x27;YouTube Video&#x27;&gt;&lt;/iframe&gt;&lt;/div&gt;&quot;)</span><br><span class="hljs-code">      var IMG_ARR = data[i].content.match(IMG_REG) || &#x27;&#x27;,IMG_ARR_Grid=&#x27;&#x27;;</span><br><span class="hljs-code">      if(IMG_ARR)&#123;</span><br><span class="hljs-code">        var IMG_ARR_Length = IMG_ARR.length,IMG_ARR_Url = &#x27;&#x27;;</span><br><span class="hljs-code">        if(IMG_ARR_Length !== 1)&#123;var IMG_ARR_Grid = &quot; grid grid-&quot;+IMG_ARR_Length&#125;</span><br><span class="hljs-code">        IMG_ARR.forEach(item =&gt; &#123;</span><br><span class="hljs-code">            let imgSrc = item.replace(/!\[.*?\]\((.*?)\)/g,&#x27;$1&#x27;)</span><br><span class="hljs-code">            IMG_ARR_Url += &#x27;&lt;figure class=&quot;gallery-thumbnail&quot;&gt;&lt;img class=&quot;img thumbnail-image&quot; loading=&quot;lazy&quot; decoding=&quot;async&quot; src=&quot;&#x27;+imgSrc+&#x27;&quot;/&gt;&lt;/figure&gt;&#x27;</span><br><span class="hljs-code">        &#125;);</span><br><span class="hljs-code">        bbContREG += &#x27;&lt;div class=&quot;resimg&#x27;+IMG_ARR_Grid+&#x27;&quot;&gt;&#x27;+IMG_ARR_Url+&#x27;&lt;/div&gt;&#x27;;</span><br><span class="hljs-code">      &#125;</span><br><span class="hljs-code">      var tagArr = data[i].content.match(TAG_REG);</span><br><span class="hljs-code">      var bbContTag = &#x27;&#x27;;</span><br><span class="hljs-code">      if (tagArr) &#123;</span><br><span class="hljs-code">          bbContTag = String(tagArr[0]).replace(/[#]/g, &#x27;&#x27;);</span><br><span class="hljs-code">      &#125; else &#123;</span><br><span class="hljs-code">          bbContTag = &#x27;动态&#x27;;</span><br><span class="hljs-code">      &#125;;</span><br><span class="hljs-code">      if(data[i].resourceList &amp;&amp; data[i].resourceList.length &gt; 0)&#123;</span><br><span class="hljs-code">        var resourceList = data[i].resourceList;</span><br><span class="hljs-code">        var imgUrl=&#x27;&#x27;,resUrl=&#x27;&#x27;,resImgLength = 0;</span><br><span class="hljs-code">        for(var j=0;j &lt; resourceList.length;j++)&#123;</span><br><span class="hljs-code">          var restype = resourceList[j].type.slice(0,5);</span><br><span class="hljs-code">          var resexlink = resourceList[j].externalLink</span><br><span class="hljs-code">          var resLink = &#x27;&#x27;,fileId=&#x27;&#x27;</span><br><span class="hljs-code">          if(resexlink)&#123;</span><br><span class="hljs-code">            resLink = resexlink</span><br><span class="hljs-code">          &#125;else&#123;</span><br><span class="hljs-code">            fileId = resourceList[j].publicId || resourceList[j].filename</span><br><span class="hljs-code">            resLink = memos+&#x27;o/r/&#x27;+resourceList[j].id+&#x27;/&#x27;+fileId</span><br><span class="hljs-code">          &#125;</span><br><span class="hljs-code">          if(restype == &#x27;image&#x27;)&#123;</span><br><span class="hljs-code">            imgUrl += &#x27;&lt;figure class=&quot;gallery-thumbnail&quot;&gt;&lt;img class=&quot;img thumbnail-image&quot; src=&quot;&#x27;+resLink+&#x27;&quot;/&gt;&lt;/figure&gt;&#x27;</span><br><span class="hljs-code">            resImgLength = resImgLength + 1 </span><br><span class="hljs-code">          &#125;</span><br><span class="hljs-code">          if(restype !== &#x27;image&#x27;)&#123;</span><br><span class="hljs-code">            resUrl += &#x27;&lt;a target=&quot;_blank&quot; rel=&quot;noreferrer&quot; href=&quot;&#x27;+resLink+&#x27;&quot;&gt;&#x27;+resourceList[j].filename+&#x27;&lt;/a&gt;&#x27;</span><br><span class="hljs-code">          &#125;</span><br><span class="hljs-code">        &#125;</span><br><span class="hljs-code">        if(imgUrl)&#123;</span><br><span class="hljs-code">          var resImgGrid = &quot;&quot;</span><br><span class="hljs-code">          if(resImgLength !== 1)&#123;var resImgGrid = &quot; grid grid-&quot;+resImgLength&#125;</span><br><span class="hljs-code">          bbContREG += &#x27;&lt;div class=&quot;resimg&#x27;+resImgGrid+&#x27;&quot;&gt;&#x27;+imgUrl+&#x27;&lt;/div&gt;&#x27;</span><br><span class="hljs-code">        &#125;</span><br><span class="hljs-code">        if(resUrl)&#123;</span><br><span class="hljs-code">          bbContREG += &#x27;&lt;div class=&quot;resour&quot;&gt;&#x27;+resUrl+&#x27;&lt;/div&gt;&#x27;</span><br><span class="hljs-code">        &#125;</span><br><span class="hljs-code">      &#125;</span><br><span class="hljs-code">      var EnvNow = &#x27;&#x27;</span><br><span class="hljs-code">      if(twiEnv &amp;&amp; twiEnv != &quot;undefined&quot;)&#123;</span><br><span class="hljs-code">        EnvNow = twiEnv.replace(/https\:\/\/.*\.(.*)\..*/,&#x27;$1&#x27;)</span><br><span class="hljs-code">      &#125;</span><br><span class="hljs-code">      if(artEnv &amp;&amp; artEnv != &quot;undefined&quot;)&#123;</span><br><span class="hljs-code">        EnvNow = artEnv.replace(/https\:\/\/.*\.(.*)\..*/,&#x27;$1&#x27;)</span><br><span class="hljs-code">      &#125;</span><br><span class="hljs-code">      result += &#x27;&lt;li class=&quot;&#x27;+EnvNow+&#x27;memo-&#x27;+memoId+&#x27;&quot;&gt;&lt;div class=&quot;bbs-avatar&quot;&gt;&lt;a href=&quot;&#x27;+data[i].home+&#x27;&quot; target=&quot;_blank&quot; rel=&quot;noopener noreferrer&quot;&gt;&lt;img src=&quot;&#x27;+data[i].imgsrc+&#x27;&quot; alt=&quot;&quot; style=&quot;margin-bottom: 18px;&quot;&gt;&lt;/a&gt;&lt;a href=&quot;&#x27;+memoUrl+&#x27;&quot; target=&quot;_blank&quot; rel=&quot;noopener noreferrer&quot; class=&quot;bbs-creator&quot;&gt;&#x27;+data[i].creator+&#x27;&lt;/a&gt;&lt;span class=&quot;bbs-dot&quot;&gt;·&lt;/span&gt;&lt;span class=&quot;bbs-date&quot;&gt;&#x27;+new Date(data[i].updatedTs * 1000).toLocaleString()+&#x27;&lt;/span&gt;&#x27;</span><br><span class="hljs-code">      var comSVG = &#x27;&lt;span class=&quot;bbs-coment-svg&quot;&gt;&lt;svg class=&quot;icon&quot; viewBox=&quot;0 0 1024 1024&quot; xmlns=&quot;http://www.w3.org/2000/svg&quot; width=&quot;20&quot; height=&quot;24&quot;&gt;&lt;path d=&quot;M816 808H672c-4.8 0-8 1.6-11.2 4.8l-80 80c-36.8 36.8-97.6 36.8-136 0l-80-80c-3.2-3.2-6.4-4.8-11.2-4.8h-144c-70.4 0-128-57.6-128-128V232c0-70.4 57.6-128 128-128h608c70.4 0 128 57.6 128 128v448C944 750.4 886.4 808 816 808zm0-64c35.2 0 64-28.8 64-64V232c0-35.2-28.8-64-64-64H208c-35.2 0-64 28.8-64 64v448c0 35.2 28.8 64 64 64h144c20.8 0 41.6 8 56 24l80 80c12.8 12.8 32 12.8 44.8 0l80-80c14.4-14.4 35.2-24 56-24H816zM320 408c27.2 0 48 20.8 48 48v32c0 27.2-20.8 48-48 48s-48-20.8-48-48v-32c0-27.2 20.8-48 48-48zm192 0c27.2 0 48 20.8 48 48v32c0 27.2-20.8 48-48 48s-48-20.8-48-48v-32c0-27.2 20.8-48 48-48zm192 0c27.2 0 48 20.8 48 48v32c0 27.2-20.8 48-48 48s-48-20.8-48-48v-32c0-27.2 20.8-48 48-48z&quot; /&gt;&lt;/svg&gt;&lt;/span&gt;&#x27;</span><br><span class="hljs-code">      var outSVG = &#x27;&lt;span class=&quot;bbs-coment-svg&quot;&gt;&lt;svg class=&quot;icon&quot; viewBox=&quot;0 0 1024 1024&quot; xmlns=&quot;http://www.w3.org/2000/svg&quot; width=&quot;20&quot; height=&quot;20&quot;&gt;&lt;path d=&quot;M864 640a32 32 0 0 1 64 0v224.096A63.936 63.936 0 0 1 864.096 928H159.904A63.936 63.936 0 0 1 96 864.096V159.904C96 124.608 124.64 96 159.904 96H384a32 32 0 0 1 0 64H192.064A31.904 31.904 0 0 0 160 192.064v639.872A31.904 31.904 0 0 0 192.064 864h639.872A31.904 31.904 0 0 0 864 831.936V640zm-485.184 52.48a31.84 31.84 0 0 1-45.12-.128 31.808 31.808 0 0 1-.128-45.12L815.04 166.048l-176.128.736a31.392 31.392 0 0 1-31.584-31.744 32.32 32.32 0 0 1 31.84-32l255.232-1.056a31.36 31.36 0 0 1 31.584 31.584L924.928 388.8a32.32 32.32 0 0 1-32 31.84 31.392 31.392 0 0 1-31.712-31.584l.736-179.392L378.816 692.48z&quot;/&gt;&lt;/svg&gt;&lt;/span&gt;&#x27;</span><br><span class="hljs-code">      if(comment == &#x27;1&#x27;)&#123;</span><br><span class="hljs-code">        if(twiEnv &amp;&amp; twiEnv != &#x27;undefined&#x27;)&#123;</span><br><span class="hljs-code">          result += &#x27;&lt;a data-id=&quot;&#x27;+memoId+&#x27;&quot; data-twienv=&quot;&#x27;+twiEnv+&#x27;&quot; data-path=&quot;&#x27;+memoUrl+&#x27;&quot; onclick=&quot;loadTwikoo(this)&quot; onmouseenter=&quot;insertTwikoo(this)&quot; href=&quot;javascript:void(0)&quot; rel=&quot;noopener noreferrer&quot;&gt;&#x27;+comSVG+&#x27;&lt;/a&gt;&lt;/div&gt;&lt;div class=&quot;bbs-content&quot;&gt;&lt;div class=&quot;bbs-text&quot;&gt;&#x27;+bbContREG+&#x27;&lt;/div&gt;&lt;div class=&quot;item-comment twikoo-&#x27;+memoId+&#x27; d-none&quot;&gt;&lt;div id=&quot;&#x27;+EnvNow+&#x27;twikoo-&#x27;+memoId+&#x27;&quot;&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;/li&gt;&#x27;</span><br><span class="hljs-code">        &#125;else if(artEnv &amp;&amp; artEnv != &#x27;undefined&#x27;)&#123;</span><br><span class="hljs-code">          result += &#x27;&lt;a data-id=&quot;&#x27;+memoId+&#x27;&quot; data-artenv=&quot;&#x27;+artEnv+&#x27;&quot; data-artsite=&quot;&#x27;+artSite+&#x27;&quot; data-path=&quot;&#x27;+memoUrl+&#x27;&quot; onclick=&quot;loadArtalk(this)&quot; href=&quot;javascript:void(0)&quot; rel=&quot;noopener noreferrer&quot;&gt;&#x27;+comSVG+&#x27;&lt;/a&gt;&lt;/div&gt;&lt;div class=&quot;bbs-content&quot;&gt;&lt;div class=&quot;bbs-text&quot;&gt;&#x27;+bbContREG+&#x27;&lt;/div&gt;&lt;div class=&quot;item-comment &#x27;+EnvNow+&#x27;artalk-&#x27;+memoId+&#x27; d-none&quot;&gt;&lt;/div&gt;&lt;/div&gt;&lt;/li&gt;&#x27;</span><br><span class="hljs-code">        &#125;else&#123;</span><br><span class="hljs-code">          result += &#x27;&lt;a href=&quot;&#x27;+memoUrl+&#x27;&quot; target=&quot;_blank&quot; rel=&quot;noopener noreferrer&quot;&gt;&#x27;+outSVG+&#x27;&lt;/a&gt;&lt;/div&gt;&lt;div class=&quot;bbs-content&quot;&gt;&lt;div class=&quot;bbs-text&quot;&gt;&#x27;+bbContREG+&#x27;&lt;/div&gt;&lt;/div&gt;&lt;/li&gt;&#x27;</span><br><span class="hljs-code">        &#125;</span><br><span class="hljs-code">      &#125;else&#123;</span><br><span class="hljs-code">        result += &#x27;&lt;/div&gt;&lt;div class=&quot;bbs-content&quot;&gt;&lt;div class=&quot;bbs-text&quot;&gt;&#x27;+bbContREG+&#x27;&lt;/div&gt;&lt;/div&gt;&lt;/li&gt;&#x27;</span><br><span class="hljs-code">      &#125;</span><br><span class="hljs-code">  &#125;</span><br><span class="hljs-code">  var bbBefore = &quot;&lt;section class=&#x27;bbs-timeline&#x27;&gt;&lt;ul class=&#x27;list&#x27;&gt;&quot;</span><br><span class="hljs-code">  var bbAfter = &quot;&lt;/ul&gt;&lt;/section&gt;&quot;</span><br><span class="hljs-code">  resultAll = bbBefore + result + bbAfter</span><br><span class="hljs-code">  bbDom.insertAdjacentHTML(&#x27;beforeend&#x27;, resultAll);</span><br><span class="hljs-code">  var btn = document.querySelector(&#x27;button.button-load&#x27;)</span><br><span class="hljs-code">  if(btn)&#123;</span><br><span class="hljs-code">    btn.textContent= &#x27;加载更多&#x27;;</span><br><span class="hljs-code">  &#125;</span><br><span class="hljs-code">  window.ViewImage &amp;&amp; ViewImage.init(&#x27;.bbs-content img&#x27;)</span><br><span class="hljs-code">  window.Lately &amp;&amp; Lately.init(&#123; target: &#x27;.bbs-date&#x27; &#125;);</span><br><span class="hljs-code">&#125;</span><br><span class="hljs-code">&lt;/script&gt;</span><br></code></pre></td></tr></table></figure>
        </div>
      </div>
    </div>
</li>
<li><p>自定义CSS样式：</p>

    <div class="fold">
      <div class="fold-title fold-info collapsed" data-toggle="collapse" href="#collapse-dcdac752" role="button" aria-expanded="false" aria-controls="collapse-dcdac752">
        <div class="fold-arrow">▶</div>CSS
      </div>
      <div class="fold-collapse collapse" id="collapse-dcdac752">
        <div class="fold-content">
          <figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br></pre></td><td class="code"><pre><code class="hljs css"><span class="hljs-selector-id">#bbs</span>&#123;<span class="hljs-attribute">padding</span>: <span class="hljs-number">2rem</span> <span class="hljs-number">0</span>;&#125;<br><span class="hljs-selector-id">#bbs-urls</span>&#123;<span class="hljs-attribute">margin-top</span>: <span class="hljs-number">2rem</span>;&#125;<br><span class="hljs-selector-class">.bbs-urls</span>&#123;<span class="hljs-attribute">display</span>:inline-block;<span class="hljs-attribute">background</span>: <span class="hljs-number">#4a4b50</span>;<span class="hljs-attribute">border-radius</span>:<span class="hljs-number">10%</span>;<span class="hljs-attribute">margin</span>:<span class="hljs-number">0</span> .<span class="hljs-number">6rem</span> <span class="hljs-number">0</span> <span class="hljs-number">0</span>;<span class="hljs-attribute">padding</span>:<span class="hljs-number">4px</span>;<span class="hljs-attribute">width</span>:<span class="hljs-number">3.4rem</span>;<span class="hljs-attribute">height</span>:<span class="hljs-number">3.4rem</span>;<span class="hljs-attribute">cursor</span>: pointer;<span class="hljs-attribute">vertical-align</span>: text-bottom;&#125;<br><span class="hljs-selector-class">.bbs-urls</span> <span class="hljs-selector-tag">img</span>&#123;<span class="hljs-attribute">border-radius</span>:<span class="hljs-number">50%</span>;<span class="hljs-attribute">width</span>:<span class="hljs-number">100%</span>;<span class="hljs-attribute">height</span>:<span class="hljs-number">100%</span>;&#125;<br><span class="hljs-selector-class">.bbs-urls</span><span class="hljs-selector-class">.url-now</span>&#123;<span class="hljs-attribute">background</span>:<span class="hljs-number">#42b983</span>;<span class="hljs-attribute">transition</span>: <span class="hljs-number">0.6s</span>;&#125;<br><span class="hljs-selector-class">.urls-button</span> svg<span class="hljs-selector-class">.icon</span>&#123;<span class="hljs-attribute">padding</span>:<span class="hljs-number">10px</span>;<span class="hljs-attribute">width</span>:<span class="hljs-number">100%</span>;<span class="hljs-attribute">height</span>: <span class="hljs-number">100%</span>;&#125;<br><span class="hljs-selector-class">.bbs-timeline</span> <span class="hljs-selector-tag">ul</span> &#123;<span class="hljs-attribute">margin</span>:<span class="hljs-number">0</span>;<span class="hljs-attribute">padding</span>: <span class="hljs-number">0</span>;&#125;<br><span class="hljs-selector-class">.bbs-timeline</span> <span class="hljs-selector-tag">ul</span> <span class="hljs-selector-tag">li</span>&#123;<span class="hljs-attribute">list-style-type</span>:none;<span class="hljs-attribute">position</span>:relative;&#125;<br><span class="hljs-selector-class">.bbs-timeline</span>&#123;<span class="hljs-attribute">max-width</span>:<span class="hljs-number">1200px</span>;<span class="hljs-attribute">margin</span>:<span class="hljs-number">0</span> auto;&#125;<br><span class="hljs-selector-class">.bbs-avatar</span>&#123;<span class="hljs-attribute">position</span>: relative;&#125;<br><span class="hljs-selector-class">.bbs-avatar</span> <span class="hljs-selector-tag">img</span>&#123;<span class="hljs-attribute">width</span>:<span class="hljs-number">24px</span>;<span class="hljs-attribute">height</span>:<span class="hljs-number">24px</span>;<span class="hljs-attribute">border-radius</span>:<span class="hljs-number">50%</span>;<span class="hljs-attribute">margin-right</span>:<span class="hljs-number">1rem</span>;&#125;<br><span class="hljs-selector-tag">div</span><span class="hljs-selector-class">.bbs-avatar</span> &gt; <span class="hljs-selector-tag">img</span> &#123;<br>    <span class="hljs-attribute">display</span>: inline-block;<br>&#125;<br><span class="hljs-selector-class">.bbs-creator</span>,<span class="hljs-selector-class">.bbs-date</span>,<span class="hljs-selector-class">.bbs-dot</span>&#123;<span class="hljs-attribute">position</span>:relative;<span class="hljs-attribute">top</span>:-<span class="hljs-number">5px</span>;&#125;<br><span class="hljs-selector-class">.bbs-dot</span>&#123;<span class="hljs-attribute">font-weight</span>: <span class="hljs-number">800</span>;<span class="hljs-attribute">margin</span>:<span class="hljs-number">0</span> .<span class="hljs-number">5rem</span>;&#125;<br><span class="hljs-selector-class">.bbs-content</span> &#123;<span class="hljs-attribute">margin-bottom</span>: <span class="hljs-number">3rem</span>;<br>    <span class="hljs-attribute">border-radius</span>: <span class="hljs-number">5px</span>;<br>    <span class="hljs-attribute">background-color</span>: <span class="hljs-number">#F6F9FE</span>;<br>    <span class="hljs-attribute">border</span>: <span class="hljs-number">3px</span> solid <span class="hljs-number">#F6F9FE</span>;&#125;<br><span class="hljs-selector-class">.bbs-text</span>,<span class="hljs-selector-class">.resour</span>&#123;<span class="hljs-attribute">background</span>: <span class="hljs-built_in">var</span>(--color-block);<span class="hljs-attribute">border-radius</span>: <span class="hljs-number">8px</span>;<span class="hljs-attribute">font-size</span>: <span class="hljs-number">1em</span>;<span class="hljs-attribute">padding</span>:<span class="hljs-number">10px</span> <span class="hljs-number">14px</span>;<span class="hljs-attribute">position</span>: relative;&#125;<br><span class="hljs-selector-class">.resour</span>&#123;<span class="hljs-attribute">font-size</span>: <span class="hljs-number">0.9rem</span>;<span class="hljs-attribute">margin-top</span>: <span class="hljs-number">2px</span>;<span class="hljs-attribute">padding</span>: <span class="hljs-number">5px</span> <span class="hljs-number">14px</span>;&#125;<br><span class="hljs-selector-class">.bbs-text</span>&#123;<span class="hljs-attribute">overflow</span>:hidden;<span class="hljs-attribute">max-height</span>:<span class="hljs-number">90vh</span>;&#125;<br><span class="hljs-selector-class">.bbs-text</span> <span class="hljs-selector-tag">blockquote</span>&#123;<span class="hljs-attribute">font-family</span>: KaiTi,STKaiti,STFangsong;<span class="hljs-attribute">margin</span>:<span class="hljs-number">0</span> <span class="hljs-number">0</span> <span class="hljs-number">0</span> <span class="hljs-number">1rem</span>;<span class="hljs-attribute">padding</span>:.<span class="hljs-number">25rem</span> <span class="hljs-number">2rem</span>;<span class="hljs-attribute">position</span>: relative;<span class="hljs-attribute">border-left</span>:<span class="hljs-number">0</span> none;&#125;<br><span class="hljs-selector-class">.bbs-text</span> <span class="hljs-selector-tag">blockquote</span><span class="hljs-selector-pseudo">::before</span>&#123;<span class="hljs-attribute">line-height</span>: <span class="hljs-number">2rem</span>;<span class="hljs-attribute">content</span>: <span class="hljs-string">&quot;“&quot;</span>;<span class="hljs-attribute">font-family</span>: Georgia, serif;<span class="hljs-attribute">font-size</span>: <span class="hljs-number">28px</span>;<span class="hljs-attribute">font-weight</span>: bold;<span class="hljs-attribute">position</span>: absolute;<span class="hljs-attribute">left</span>: <span class="hljs-number">10px</span>;<span class="hljs-attribute">top</span>:<span class="hljs-number">5px</span>;&#125;<br><span class="hljs-selector-class">.bbs-text</span> <span class="hljs-selector-tag">p</span>&#123;<span class="hljs-attribute">margin</span>:<span class="hljs-number">0</span>;&#125;<br><span class="hljs-selector-class">.bbs-text</span> pre <span class="hljs-selector-tag">p</span>&#123;<span class="hljs-attribute">display</span>: inline-block;&#125;<br><span class="hljs-selector-class">.bbs-text</span> pre <span class="hljs-selector-tag">p</span><span class="hljs-selector-pseudo">:empty</span>&#123;<span class="hljs-attribute">display</span>: none;&#125;<br><span class="hljs-selector-class">.tag-span</span>&#123;<span class="hljs-attribute">color</span>: <span class="hljs-number">#42b983</span>;&#125;<br><span class="hljs-selector-id">#load</span> <span class="hljs-selector-tag">button</span><span class="hljs-selector-class">.load-btn</span>&#123;<span class="hljs-attribute">width</span>:<span class="hljs-number">100%</span>;<span class="hljs-attribute">padding</span>:<span class="hljs-number">8px</span> <span class="hljs-number">0</span>;<span class="hljs-attribute">background</span>: <span class="hljs-built_in">var</span>(--color-block);&#125;<br><span class="hljs-selector-id">#bb-footer</span>&#123;<span class="hljs-attribute">letter-spacing</span>:<span class="hljs-number">8px</span>;<span class="hljs-attribute">margin</span>:<span class="hljs-number">5rem</span> auto <span class="hljs-number">1rem</span>;<span class="hljs-attribute">text-align</span>:center;&#125;<br><span class="hljs-selector-class">.dark</span> <span class="hljs-selector-class">.bbs-text</span>,<span class="hljs-selector-class">.dark</span> <span class="hljs-selector-class">.resour</span>&#123;<span class="hljs-attribute">background</span>:<span class="hljs-number">#4a4b50</span>;&#125;<br><span class="hljs-selector-class">.dark</span> <span class="hljs-selector-class">.bbs-text</span> <span class="hljs-selector-tag">p</span>&#123;<span class="hljs-attribute">color</span>:<span class="hljs-number">#fafafa</span>;&#125;<br><span class="hljs-selector-class">.loader</span> &#123;<span class="hljs-attribute">position</span>: relative;<span class="hljs-attribute">margin</span>:<span class="hljs-number">3rem</span> auto;<span class="hljs-attribute">width</span>: <span class="hljs-number">100px</span>;&#125;<br><span class="hljs-selector-class">.loader</span><span class="hljs-selector-pseudo">::before</span> &#123;<span class="hljs-attribute">content</span>: <span class="hljs-string">&#x27;&#x27;</span>;<span class="hljs-attribute">display</span>: block;<span class="hljs-attribute">padding-top</span>: <span class="hljs-number">100%</span>;&#125;<br><span class="hljs-selector-class">.circular</span> &#123;<span class="hljs-attribute">animation</span>: rotate <span class="hljs-number">2s</span> linear infinite;<span class="hljs-attribute">height</span>: <span class="hljs-number">100%</span>;<span class="hljs-attribute">transform-origin</span>: center center;<span class="hljs-attribute">width</span>: <span class="hljs-number">100%</span>;<span class="hljs-attribute">position</span>: absolute;<span class="hljs-attribute">top</span>: <span class="hljs-number">0</span>;<span class="hljs-attribute">bottom</span>: <span class="hljs-number">0</span>;<span class="hljs-attribute">left</span>: <span class="hljs-number">0</span>;<span class="hljs-attribute">right</span>: <span class="hljs-number">0</span>;<span class="hljs-attribute">margin</span>: auto;&#125;<br><span class="hljs-selector-class">.path</span> &#123;stroke-dasharray: <span class="hljs-number">1</span>, <span class="hljs-number">200</span>;stroke-dashoffset: <span class="hljs-number">0</span>;<span class="hljs-attribute">animation</span>: dash <span class="hljs-number">1.5s</span> ease-in-out infinite, color <span class="hljs-number">6s</span> ease-in-out infinite;stroke-linecap: round;&#125;<br><span class="hljs-keyword">@keyframes</span> rotate &#123;<span class="hljs-number">100%</span> &#123;<span class="hljs-attribute">transform</span>: <span class="hljs-built_in">rotate</span>(<span class="hljs-number">360deg</span>);&#125;&#125;<br><span class="hljs-keyword">@keyframes</span> dash &#123;<br>  <span class="hljs-number">0%</span> &#123;stroke-dasharray: <span class="hljs-number">1</span>, <span class="hljs-number">200</span>;stroke-dashoffset: <span class="hljs-number">0</span>;&#125;<br>  <span class="hljs-number">50%</span> &#123;stroke-dasharray: <span class="hljs-number">89</span>, <span class="hljs-number">200</span>;stroke-dashoffset: -<span class="hljs-number">35px</span>;&#125;<br>  <span class="hljs-number">100%</span> &#123;stroke-dasharray: <span class="hljs-number">89</span>, <span class="hljs-number">200</span>;stroke-dashoffset: -<span class="hljs-number">124px</span>;&#125;<br>&#125;<br><span class="hljs-keyword">@keyframes</span> <span class="hljs-attribute">color</span> &#123;<br>  <span class="hljs-number">100%</span>,<span class="hljs-number">0%</span> &#123;stroke: <span class="hljs-number">#d62d20</span>;&#125;<span class="hljs-number">40%</span> &#123;stroke: <span class="hljs-number">#0057e7</span>;&#125;<span class="hljs-number">66%</span> &#123;stroke: <span class="hljs-number">#008744</span>;&#125;<span class="hljs-number">80%</span>,<span class="hljs-number">90%</span> &#123;stroke: <span class="hljs-number">#ffa700</span>;&#125;<br>&#125;<br><span class="hljs-selector-class">.bbs-content</span> <span class="hljs-selector-tag">p</span> &gt; <span class="hljs-selector-tag">img</span>&#123;<span class="hljs-attribute">cursor</span>:pointer;<span class="hljs-attribute">border</span>:<span class="hljs-number">1px</span> solid <span class="hljs-number">#3b3d42</span>;&#125;<br><span class="hljs-selector-class">.bbs-content</span> <span class="hljs-selector-tag">p</span><span class="hljs-selector-pseudo">:has</span>(<span class="hljs-selector-tag">img</span><span class="hljs-selector-class">.img</span>)&#123;<span class="hljs-attribute">display</span>: inline-block;&#125;<br><span class="hljs-selector-class">.bbs-text</span> <span class="hljs-selector-tag">p</span> &gt; <span class="hljs-selector-tag">img</span> &#123;<span class="hljs-attribute">display</span>: block;&#125;<br><span class="hljs-selector-class">.bbs-text</span> <span class="hljs-selector-tag">p</span> &gt; <span class="hljs-selector-tag">img</span><span class="hljs-selector-pseudo">:first</span>-child<span class="hljs-selector-pseudo">:nth-last-child</span>(n+<span class="hljs-number">2</span>),<span class="hljs-selector-class">.bbs-text</span> <span class="hljs-selector-tag">p</span> &gt; <span class="hljs-selector-tag">img</span><span class="hljs-selector-pseudo">:first</span>-child<span class="hljs-selector-pseudo">:nth-last-child</span>(n+<span class="hljs-number">2</span>) ~ <span class="hljs-selector-tag">img</span> &#123;<span class="hljs-attribute">display</span>: inline-block;&#125;<br><span class="hljs-selector-class">.bbs-content</span> <span class="hljs-selector-tag">p</span> &gt; <span class="hljs-selector-tag">img</span><span class="hljs-selector-class">.square</span>&#123;<span class="hljs-attribute">height</span>:<span class="hljs-number">180px</span>;<span class="hljs-attribute">width</span>:<span class="hljs-number">180px</span>;<span class="hljs-attribute">object-fit</span>:cover;&#125;<br><span class="hljs-selector-class">.resimg</span><span class="hljs-selector-class">.grid</span>&#123;<br>    <span class="hljs-attribute">display</span>: grid;<br>    <span class="hljs-attribute">grid-template-columns</span>: <span class="hljs-built_in">repeat</span>(<span class="hljs-number">3</span>,<span class="hljs-number">1</span>fr);<br>    <span class="hljs-attribute">grid-template-rows</span>:auto;<br>    <span class="hljs-attribute">gap</span>: <span class="hljs-number">4px</span>;<br>    <span class="hljs-attribute">width</span>: <span class="hljs-built_in">calc</span>(<span class="hljs-number">100%</span>* <span class="hljs-number">2</span> / <span class="hljs-number">3</span>);<br>    <span class="hljs-attribute">box-sizing</span>: border-box;<br>    <span class="hljs-attribute">margin</span>: <span class="hljs-number">4px</span> <span class="hljs-number">0</span> <span class="hljs-number">0</span>;<br>&#125;<br><span class="hljs-selector-class">.resimg</span><span class="hljs-selector-class">.grid-2</span>&#123;<br>  <span class="hljs-attribute">grid-template-columns</span>: <span class="hljs-built_in">repeat</span>(<span class="hljs-number">2</span>, <span class="hljs-number">1</span>fr);<br>  <span class="hljs-attribute">width</span>: <span class="hljs-number">80%</span>;<br>&#125;<br><span class="hljs-selector-class">.resimg</span><span class="hljs-selector-class">.grid-4</span>&#123;<br>  <span class="hljs-attribute">grid-template-columns</span>: <span class="hljs-built_in">repeat</span>(<span class="hljs-number">2</span>, <span class="hljs-number">1</span>fr);<br>  <span class="hljs-attribute">width</span>: <span class="hljs-built_in">calc</span>(<span class="hljs-number">80%</span> * <span class="hljs-number">2</span> / <span class="hljs-number">3</span>);<br>&#125;<br><span class="hljs-selector-class">.resimg</span><span class="hljs-selector-class">.grid</span> <span class="hljs-selector-tag">figure</span><span class="hljs-selector-class">.gallery-thumbnail</span> &#123;<br>  <span class="hljs-attribute">position</span>: relative;<br>  <span class="hljs-attribute">width</span>: <span class="hljs-number">100%</span>;<br>  <span class="hljs-attribute">height</span>: <span class="hljs-number">0</span>;<br>  <span class="hljs-attribute">padding-top</span>: <span class="hljs-number">100%</span>;<br>  <span class="hljs-attribute">cursor</span>: zoom-in;<br>&#125;<br><span class="hljs-selector-class">.resimg</span> <span class="hljs-selector-tag">figure</span>&#123;<br>  <span class="hljs-attribute">text-align</span>: left;<br>  <span class="hljs-attribute">max-height</span>:<span class="hljs-number">50%</span>;<br>&#125;<br><span class="hljs-selector-class">.resimg</span> <span class="hljs-selector-tag">figure</span> <span class="hljs-selector-tag">img</span>&#123;<br>  <span class="hljs-attribute">max-height</span>:<span class="hljs-number">50vh</span>;<br>&#125;<br><span class="hljs-selector-class">.resimg</span><span class="hljs-selector-class">.grid</span> <span class="hljs-selector-tag">figure</span>, <span class="hljs-selector-tag">figcaption</span> &#123;<br>  <span class="hljs-attribute">margin</span>: <span class="hljs-number">0</span> <span class="hljs-meta">!important</span>;<br>&#125;<br><span class="hljs-selector-class">.resimg</span><span class="hljs-selector-class">.grid</span> <span class="hljs-selector-tag">figure</span><span class="hljs-selector-class">.gallery-thumbnail</span> &gt; <span class="hljs-selector-tag">img</span><span class="hljs-selector-class">.thumbnail-image</span> &#123;<br>  <span class="hljs-attribute">position</span>: absolute;<br>  <span class="hljs-attribute">left</span>: <span class="hljs-number">0</span>;<br>  <span class="hljs-attribute">top</span>: <span class="hljs-number">0</span>;<br>  <span class="hljs-attribute">display</span>: block;<br>  <span class="hljs-attribute">width</span>: <span class="hljs-number">100%</span>;<br>  <span class="hljs-attribute">height</span>: <span class="hljs-number">100%</span>;<br>  <span class="hljs-attribute">object-fit</span>: cover;<br>  <span class="hljs-attribute">object-position</span>: <span class="hljs-number">50%</span> <span class="hljs-number">50%</span>;<br>&#125;<br><span class="hljs-selector-class">.video-wrapper</span>&#123;<span class="hljs-attribute">position</span>:relative;<span class="hljs-attribute">padding-bottom</span>:<span class="hljs-number">55%</span>;<span class="hljs-attribute">width</span>:<span class="hljs-number">100%</span>;<span class="hljs-attribute">height</span>:<span class="hljs-number">0</span>&#125;<br><span class="hljs-selector-class">.video-wrapper</span> <span class="hljs-selector-tag">iframe</span>&#123;<span class="hljs-attribute">position</span>:absolute;<span class="hljs-attribute">height</span>:<span class="hljs-number">100%</span>;<span class="hljs-attribute">width</span>:<span class="hljs-number">100%</span>;&#125;<br></code></pre></td></tr></table></figure>
        </div>
      </div>
    </div></li>
</ol>

                
              </div>
            
            <hr/>
            <div>
              <div class="post-metas my-3">
  
    <div class="post-meta mr-3 d-flex align-items-center">
      <i class="iconfont icon-category"></i>
      

<span class="category-chains">
  
  
    
      <span class="category-chain">
        
  <a href="/categories/%E6%8A%98%E8%85%BE%E8%AE%B0%E5%BD%95/" class="category-chain-item">折腾记录</a>
  
  

      </span>
    
  
</span>

    </div>
  
  
    <div class="post-meta">
      <i class="iconfont icon-tags"></i>
      
        <a href="/tags/Memos/" class="print-no-link">#Memos</a>
      
    </div>
  
</div>


              
                <div class="post-prevnext my-3">
                  <article class="post-prev col-6">
                    
                    
                      <a href="/posts/48744.html" title="Docker搭建Twikoo">
                        <i class="iconfont icon-arrowleft"></i>
                        <span class="hidden-mobile">Docker搭建Twikoo</span>
                        <span class="visible-mobile">上一篇</span>
                      </a>
                    
                  </article>
                  <article class="post-next col-6">
                    
                    
                      <a href="/posts/13197.html" title="启用霞鹜文楷字体">
                        <span class="hidden-mobile">启用霞鹜文楷字体</span>
                        <span class="visible-mobile">下一篇</span>
                        <i class="iconfont icon-arrowright"></i>
                      </a>
                    
                  </article>
                </div>
              
            </div>

            
  
  
    <article id="comments" lazyload>
      
  <div id="twikoo"></div>
  <script type="text/javascript">
    Fluid.utils.loadComments('#comments', function() {
      Fluid.utils.createScript('https://lib.baomitu.com/twikoo/1.6.8/twikoo.all.min.js', function() {
        var options = Object.assign(
          {"envId":"https://tk.snbing.com","region":"ap-shanghai","path":"window.location.pathname"},
          {
            el: '#twikoo',
            path: 'window.location.pathname',
            onCommentLoaded: function() {
              Fluid.utils.listenDOMLoaded(function() {
                var imgSelector = '#twikoo .tk-content img:not(.tk-owo-emotion)';
                Fluid.plugins.imageCaption(imgSelector);
                Fluid.plugins.fancyBox(imgSelector);
              });
            }
          }
        )
        twikoo.init(options)
      });
    });
  </script>
  <noscript>Please enable JavaScript to view the comments</noscript>


    </article>
  


          </article>
        </div>
      </div>
    </div>

    <div class="side-col d-none d-lg-block col-lg-2">
      
  <aside class="sidebar" style="margin-left: -1rem">
    <div id="toc">
  <p class="toc-header">
    <i class="iconfont icon-list"></i>
    <span>目录</span>
  </p>
  <div class="toc-body" id="toc-body"></div>
</div>



  </aside>


    </div>
  </div>
</div>





  



  



  



  



  







    

    
      <a id="scroll-top-button" aria-label="TOP" href="#" role="button">
        <i class="iconfont icon-arrowup" aria-hidden="true"></i>
      </a>
    

    
      <div class="modal fade" id="modalSearch" tabindex="-1" role="dialog" aria-labelledby="ModalLabel"
     aria-hidden="true">
  <div class="modal-dialog modal-dialog-scrollable modal-lg" role="document">
    <div class="modal-content">
      <div class="modal-header text-center">
        <h4 class="modal-title w-100 font-weight-bold">搜索</h4>
        <button type="button" id="local-search-close" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body mx-3">
        <div class="md-form mb-5">
          <input type="text" id="local-search-input" class="form-control validate">
          <label data-error="x" data-success="v" for="local-search-input">关键词</label>
        </div>
        <div class="list-group" id="local-search-result"></div>
      </div>
    </div>
  </div>
</div>

    

    
  </main>

  <footer>
    <div class="footer-inner">
  
    <div class="footer-content">
       <a href="https://hexo.io" target="_blank" rel="nofollow noopener"><span>Hexo</span></a> <i class="iconfont icon-love"></i> <a href="https://github.com/fluid-dev/hexo-theme-fluid" target="_blank" rel="nofollow noopener"><span>Fluid</span></a> 
    </div>
  
  
  
    <!-- 备案信息 ICP for China -->
    <div class="beian">
  <span>
    <a href="http://beian.miit.gov.cn/" target="_blank" rel="nofollow noopener">
      陕ICP备2023005323号-2
    </a>
  </span>
  
</div>

  
  
</div>

  </footer>

  <!-- Scripts -->
  
  <script  src="https://lib.baomitu.com/nprogress/0.2.0/nprogress.min.js" ></script>
  <link  rel="stylesheet" href="https://lib.baomitu.com/nprogress/0.2.0/nprogress.min.css" />

  <script>
    NProgress.configure({"showSpinner":false,"trickleSpeed":100})
    NProgress.start()
    window.addEventListener('load', function() {
      NProgress.done();
    })
  </script>


<script  src="https://lib.baomitu.com/jquery/3.6.4/jquery.min.js" ></script>
<script  src="https://lib.baomitu.com/twitter-bootstrap/4.6.1/js/bootstrap.min.js" ></script>
<script  src="/js/events.js" ></script>
<script  src="/js/plugins.js" ></script>


  <script  src="https://lib.baomitu.com/typed.js/2.0.12/typed.min.js" ></script>
  <script>
    (function (window, document) {
      var typing = Fluid.plugins.typing;
      var subtitle = document.getElementById('subtitle');
      if (!subtitle || !typing) {
        return;
      }
      var text = subtitle.getAttribute('data-typed-text');
      
        typing(text);
      
    })(window, document);
  </script>




  
    <script  src="/js/img-lazyload.js" ></script>
  




  
<script>
  Fluid.utils.createScript('https://lib.baomitu.com/tocbot/4.20.1/tocbot.min.js', function() {
    var toc = jQuery('#toc');
    if (toc.length === 0 || !window.tocbot) { return; }
    var boardCtn = jQuery('#board-ctn');
    var boardTop = boardCtn.offset().top;

    window.tocbot.init(Object.assign({
      tocSelector     : '#toc-body',
      contentSelector : '.markdown-body',
      linkClass       : 'tocbot-link',
      activeLinkClass : 'tocbot-active-link',
      listClass       : 'tocbot-list',
      isCollapsedClass: 'tocbot-is-collapsed',
      collapsibleClass: 'tocbot-is-collapsible',
      scrollSmooth    : true,
      includeTitleTags: true,
      headingsOffset  : -boardTop,
    }, CONFIG.toc));
    if (toc.find('.toc-list-item').length > 0) {
      toc.css('visibility', 'visible');
    }

    Fluid.events.registerRefreshCallback(function() {
      if ('tocbot' in window) {
        tocbot.refresh();
        var toc = jQuery('#toc');
        if (toc.length === 0 || !tocbot) {
          return;
        }
        if (toc.find('.toc-list-item').length > 0) {
          toc.css('visibility', 'visible');
        }
      }
    });
  });
</script>


  <script src=https://lib.baomitu.com/clipboard.js/2.0.11/clipboard.min.js></script>

  <script>Fluid.plugins.codeWidget();</script>


  
<script>
  Fluid.utils.createScript('https://lib.baomitu.com/anchor-js/4.3.1/anchor.min.js', function() {
    window.anchors.options = {
      placement: CONFIG.anchorjs.placement,
      visible  : CONFIG.anchorjs.visible
    };
    if (CONFIG.anchorjs.icon) {
      window.anchors.options.icon = CONFIG.anchorjs.icon;
    }
    var el = (CONFIG.anchorjs.element || 'h1,h2,h3,h4,h5,h6').split(',');
    var res = [];
    for (var item of el) {
      res.push('.markdown-body > ' + item.trim());
    }
    if (CONFIG.anchorjs.placement === 'left') {
      window.anchors.options.class = 'anchorjs-link-left';
    }
    window.anchors.add(res.join(', '));

    Fluid.events.registerRefreshCallback(function() {
      if ('anchors' in window) {
        anchors.removeAll();
        var el = (CONFIG.anchorjs.element || 'h1,h2,h3,h4,h5,h6').split(',');
        var res = [];
        for (var item of el) {
          res.push('.markdown-body > ' + item.trim());
        }
        if (CONFIG.anchorjs.placement === 'left') {
          anchors.options.class = 'anchorjs-link-left';
        }
        anchors.add(res.join(', '));
      }
    });
  });
</script>


  
<script>
  Fluid.utils.createScript('https://lib.baomitu.com/fancybox/3.5.7/jquery.fancybox.min.js', function() {
    Fluid.plugins.fancyBox();
  });
</script>


  <script>Fluid.plugins.imageCaption();</script>

  <script  src="/js/local-search.js" ></script>




  
<script src="/js/custom.js"></script>



<!-- 主题的启动项，将它保持在最底部 -->
<!-- the boot of the theme, keep it at the bottom -->
<script  src="/js/boot.js" ></script>


  

  <noscript>
    <div class="noscript-warning">博客在允许 JavaScript 运行的环境下浏览效果更佳</div>
  </noscript>
</body>
</html>
